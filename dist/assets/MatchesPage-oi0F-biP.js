import{ah as Ce,am as Ne,r as x,an as y,j as e,ao as Se,ai as Fe,ak as Te,x as j,ar as Le,ap as n,as as u,aq as Me,at as v,au as g,av as p,aw as f,az as c,A as ce,n as ie,C as N,a as D,b as V,aG as $,c as S,aH as z,B as de,aA as ke,aB as De,aC as oe,aD as F,aE as Ve,aF as T,U as Ae,w as L}from"./index-GAVc2OtO.js";import{u as J}from"./useQuery-CV8yfldm.js";import{u as P}from"./useMutation-C-Rbfrtn.js";import{D as G,b as W,c as X,d as Y,e as He,f as Z}from"./dialog-I4-_6RT2.js";import{D as me}from"./download-7nNZPXal.js";import{U as Ee}from"./upload-BEkoh69T.js";import{F as qe}from"./file-text-B4rgFeii.js";import{S as Ie}from"./search-0AOMyqDJ.js";import{S as Oe}from"./square-pen-vBoTrtC_.js";import{T as Ue}from"./trash-2-Dnjp8NsW.js";import"./index-DD5cTla9.js";const Re=async()=>{const{data:d,error:i}=await L.from("matches").select(`
      *,
      league:leagues(id, name, country),
      home_team:teams!matches_home_team_id_fkey(id, name),
      away_team:teams!matches_away_team_id_fkey(id, name)
    `).order("match_date",{ascending:!0});if(i)throw new Error(i.message);return d||[]},Pe=async()=>{const{data:d,error:i}=await L.from("leagues").select("*").order("name",{ascending:!0});if(i)throw new Error(i.message);return d||[]},Qe=async d=>{let i=L.from("teams").select("*");d&&(i=i.eq("league_id",d));const{data:m,error:C}=await i.order("name",{ascending:!0});if(C)throw new Error(C.message);return m||[]},Be=async d=>{const{data:i,error:m}=await L.from("matches").insert(d).select(`
      *,
      league:leagues(id, name, country),
      home_team:teams!matches_home_team_id_fkey(id, name),
      away_team:teams!matches_away_team_id_fkey(id, name)
    `).single();if(m)throw new Error(m.message);return i},Ke=async(d,i)=>{const{data:m,error:C}=await L.from("matches").update(i).eq("id",d).select(`
      *,
      league:leagues(id, name, country),
      home_team:teams!matches_home_team_id_fkey(id, name),
      away_team:teams!matches_away_team_id_fkey(id, name)
    `).single();if(C)throw new Error(C.message);return m},$e=async d=>{const{error:i}=await L.from("matches").delete().eq("id",d);if(i)throw new Error(i.message)},ze=async d=>{const{data:i,error:m}=await L.functions.invoke("admin-import-matches-csv",{body:{content:d}});if(m)throw new Error(m.message);return i||{total:0,imported:0,skipped:0,errors:[]}};function ra(){Ce("Matches â€¢ WinMix TipsterHub");const d=Ne(),[i,m]=x.useState(!1),[C,H]=x.useState(!1),[he,E]=x.useState(!1),[ee,ae]=x.useState(null),[q,Q]=x.useState(""),[M,ue]=x.useState(""),[b,xe]=x.useState("all"),[I,je]=x.useState("all"),O=J({queryKey:["matches"],queryFn:Re}),B=J({queryKey:["leagues"],queryFn:Pe}),U=J({queryKey:["teams",b],queryFn:()=>Qe(b==="all"?void 0:b),enabled:!!b}),se=P({mutationFn:Be,onSuccess:()=>{y.success("Match created successfully"),d.invalidateQueries({queryKey:["matches"]}),m(!1),re()},onError:a=>{y.error(a.message)}}),te=P({mutationFn:({id:a,data:s})=>Ke(a,s),onSuccess:()=>{y.success("Match updated successfully"),d.invalidateQueries({queryKey:["matches"]}),H(!1),ae(null),re()},onError:a=>{y.error(a.message)}}),_e=P({mutationFn:$e,onSuccess:()=>{y.success("Match deleted successfully"),d.invalidateQueries({queryKey:["matches"]})},onError:a=>{y.error(a.message)}}),le=P({mutationFn:ze,onSuccess:a=>{y.success(`Imported ${a.imported} of ${a.total} matches`),a.errors.length>0&&y.error(`${a.errors.length} errors occurred during import`),d.invalidateQueries({queryKey:["matches"]}),E(!1),Q("")},onError:a=>{y.error(a.message)}}),[t,r]=x.useState({league_id:"",home_team_id:"",away_team_id:"",match_date:"",venue:"",status:"scheduled",home_score:null,away_score:null,halftime_home_score:null,halftime_away_score:null}),re=()=>{r({league_id:"",home_team_id:"",away_team_id:"",match_date:"",venue:"",status:"scheduled",home_score:null,away_score:null,halftime_home_score:null,halftime_away_score:null})},ve=a=>{ae(a),r({league_id:a.league_id,home_team_id:a.home_team_id,away_team_id:a.away_team_id,match_date:a.match_date,venue:a.venue||"",status:a.status,home_score:a.home_score??null,away_score:a.away_score??null,halftime_home_score:a.halftime_home_score??null,halftime_away_score:a.halftime_away_score??null}),H(!0)},ge=a=>{confirm("Are you sure you want to delete this match?")&&_e.mutate(a)},pe=a=>{const s=a.target.files?.[0];if(s){const l=new FileReader;l.onload=o=>{const w=o.target?.result;Q(w)},l.readAsText(s)}},fe=()=>{const a=O.data||[],s=["League","Home Team","Away Team","Match Date","Venue","Status","Home Score","Away Score"],l=a.map(_=>[_.league?.name||"",_.home_team?.name||"",_.away_team?.name||"",_.match_date,_.venue||"",_.status,_.home_score??"",_.away_score??""]),o=[s,...l].map(_=>_.map(be=>`"${be}"`).join(",")).join(`
`),w=new Blob([o],{type:"text/csv"}),h=URL.createObjectURL(w),K=document.createElement("a");K.href=h,K.download="matches.csv",K.click(),URL.revokeObjectURL(h)},we=()=>{const s=(O.data||[]).map(h=>({id:h.id,league_id:h.league_id,home_team_id:h.home_team_id,away_team_id:h.away_team_id,match_date:h.match_date,venue:h.venue,status:h.status,home_score:h.home_score??null,away_score:h.away_score??null,halftime_home_score:h.halftime_home_score??null,halftime_away_score:h.halftime_away_score??null})),l=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),o=URL.createObjectURL(l),w=document.createElement("a");w.href=o,w.download="matches.json",w.click(),URL.revokeObjectURL(o)},k=x.useMemo(()=>{const a=[];t.league_id||a.push("League is required"),t.home_team_id||a.push("Home team is required"),t.away_team_id||a.push("Away team is required"),t.home_team_id&&t.away_team_id&&t.home_team_id===t.away_team_id&&a.push("Home and away teams must be different"),(!t.match_date||isNaN(new Date(t.match_date).getTime()))&&a.push("Valid match date is required");const s=t.status==="completed"||t.status==="finished",l=t.home_score,o=t.away_score;return s&&(l===null||o===null||Number.isNaN(l)||Number.isNaN(o))&&a.push("Completed matches must include both scores"),l!==null&&l<0&&a.push("Home score cannot be negative"),o!==null&&o<0&&a.push("Away score cannot be negative"),t.halftime_home_score!==null&&l!==null&&t.halftime_home_score>l&&a.push("Halftime home score cannot exceed final home score"),t.halftime_away_score!==null&&o!==null&&t.halftime_away_score>o&&a.push("Halftime away score cannot exceed final away score"),a},[t]),ne=()=>({league_id:t.league_id,home_team_id:t.home_team_id,away_team_id:t.away_team_id,match_date:t.match_date,venue:t.venue,status:t.status,home_score:t.home_score??null,away_score:t.away_score??null,halftime_home_score:t.halftime_home_score??null,halftime_away_score:t.halftime_away_score??null}),R=x.useMemo(()=>(O.data||[]).filter(s=>{const l=s.home_team?.name.toLowerCase().includes(M.toLowerCase())||s.away_team?.name.toLowerCase().includes(M.toLowerCase())||s.league?.name.toLowerCase().includes(M.toLowerCase())||s.venue?.toLowerCase().includes(M.toLowerCase()),o=b==="all"||s.league_id===b,w=I==="all"||s.status===I;return l&&o&&w}),[O.data,M,b,I]),A=x.useMemo(()=>{const a=R;return{total:a.length,scheduled:a.filter(s=>s.status==="scheduled").length,live:a.filter(s=>s.status==="live").length,completed:a.filter(s=>s.status==="completed").length,cancelled:a.filter(s=>s.status==="cancelled").length}},[R]),ye=a=>{const s={scheduled:"default",live:"destructive",completed:"secondary",cancelled:"outline"};return e.jsx(de,{variant:s[a]||"default",children:a})};return e.jsx(Se,{allowedRoles:["admin","analyst"],children:e.jsxs(Fe,{children:[e.jsx(Te,{title:"Matches Management",description:"Manage matches and import data from CSV files",actions:e.jsxs(e.Fragment,{children:[e.jsxs(j,{variant:"outline",onClick:fe,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Export CSV"]}),e.jsxs(j,{variant:"outline",onClick:we,children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Export JSON"]}),e.jsxs(j,{variant:"outline",onClick:()=>E(!0),children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Import CSV"]}),e.jsxs(j,{onClick:()=>m(!0),children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Add Match"]})]})}),e.jsx(G,{open:he,onOpenChange:E,children:e.jsxs(W,{className:"max-w-2xl",children:[e.jsxs(X,{children:[e.jsx(Y,{children:"Import Matches from CSV"}),e.jsx(He,{children:"Upload a CSV file with match data. Expected columns: League, Home Team, Away Team, Match Date, Venue, Status."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"csv-file",children:"CSV File"}),e.jsx(u,{id:"csv-file",type:"file",accept:".csv",onChange:pe})]}),q&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"csv-preview",children:"Preview"}),e.jsx(Me,{id:"csv-preview",value:q,onChange:a=>Q(a.target.value),rows:10,placeholder:"CSV content will appear here..."})]})]}),e.jsxs(Z,{children:[e.jsx(j,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),e.jsx(j,{onClick:()=>le.mutate(q),disabled:le.isPending||!q.trim(),children:"Import"})]})]})}),e.jsx(G,{open:i,onOpenChange:m,children:e.jsxs(W,{children:[e.jsx(X,{children:e.jsx(Y,{children:"Add New Match"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"league",children:"League"}),e.jsxs(v,{value:t.league_id,onValueChange:a=>r(s=>({...s,league_id:a})),children:[e.jsx(g,{children:e.jsx(p,{placeholder:"Select league"})}),e.jsx(f,{children:B.data?.map(a=>e.jsxs(c,{value:a.id,children:[a.name," (",a.country,")"]},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"home-team",children:"Home Team"}),e.jsxs(v,{value:t.home_team_id,onValueChange:a=>r(s=>({...s,home_team_id:a})),children:[e.jsx(g,{children:e.jsx(p,{placeholder:"Select home team"})}),e.jsx(f,{children:U.data?.filter(a=>a.id!==t.away_team_id).map(a=>e.jsx(c,{value:a.id,children:a.name},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"away-team",children:"Away Team"}),e.jsxs(v,{value:t.away_team_id,onValueChange:a=>r(s=>({...s,away_team_id:a})),children:[e.jsx(g,{children:e.jsx(p,{placeholder:"Select away team"})}),e.jsx(f,{children:U.data?.filter(a=>a.id!==t.home_team_id).map(a=>e.jsx(c,{value:a.id,children:a.name},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"match-date",children:"Match Date"}),e.jsx(u,{id:"match-date",type:"datetime-local",value:t.match_date,onChange:a=>r(s=>({...s,match_date:a.target.value}))})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"venue",children:"Venue"}),e.jsx(u,{id:"venue",value:t.venue,onChange:a=>r(s=>({...s,venue:a.target.value})),placeholder:"Stadium name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",children:"Status"}),e.jsxs(v,{value:t.status,onValueChange:a=>r(s=>({...s,status:a})),children:[e.jsx(g,{children:e.jsx(p,{})}),e.jsxs(f,{children:[e.jsx(c,{value:"scheduled",children:"Scheduled"}),e.jsx(c,{value:"live",children:"Live"}),e.jsx(c,{value:"completed",children:"Completed"}),e.jsx(c,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"home-score",children:"Home Score"}),e.jsx(u,{id:"home-score",type:"number",min:0,value:t.home_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,home_score:s===""?null:Number.parseInt(s,10)}))}})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"away-score",children:"Away Score"}),e.jsx(u,{id:"away-score",type:"number",min:0,value:t.away_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,away_score:s===""?null:Number.parseInt(s,10)}))}})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"ht-home-score",children:"HT Home Score"}),e.jsx(u,{id:"ht-home-score",type:"number",min:0,value:t.halftime_home_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,halftime_home_score:s===""?null:Number.parseInt(s,10)}))}})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"ht-away-score",children:"HT Away Score"}),e.jsx(u,{id:"ht-away-score",type:"number",min:0,value:t.halftime_away_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,halftime_away_score:s===""?null:Number.parseInt(s,10)}))}})]})]}),k.length>0&&e.jsx(ce,{variant:"destructive",children:e.jsx(ie,{children:k.map((a,s)=>e.jsx("div",{children:a},s))})})]}),e.jsxs(Z,{children:[e.jsx(j,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),e.jsx(j,{onClick:()=>se.mutate(ne()),disabled:se.isPending||!t.league_id||!t.home_team_id||!t.away_team_id||!t.match_date||k.length>0,children:"Create"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[e.jsxs(N,{className:"bg-card/60 border-border/80 backdrop-blur",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(V,{className:"text-sm font-medium",children:"Total"}),e.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(S,{children:e.jsx("div",{className:"text-2xl font-bold",children:A.total})})]}),e.jsxs(N,{className:"bg-card/60 border-border/80 backdrop-blur",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(V,{className:"text-sm font-medium",children:"Scheduled"}),e.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(S,{children:e.jsx("div",{className:"text-2xl font-bold",children:A.scheduled})})]}),e.jsxs(N,{className:"bg-card/60 border-border/80 backdrop-blur",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(V,{className:"text-sm font-medium",children:"Live"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(S,{children:e.jsx("div",{className:"text-2xl font-bold text-red-500",children:A.live})})]}),e.jsxs(N,{className:"bg-card/60 border-border/80 backdrop-blur",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(V,{className:"text-sm font-medium",children:"Completed"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(S,{children:e.jsx("div",{className:"text-2xl font-bold",children:A.completed})})]}),e.jsxs(N,{className:"bg-card/60 border-border/80 backdrop-blur",children:[e.jsxs(D,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(V,{className:"text-sm font-medium",children:"Cancelled"}),e.jsx(qe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(S,{children:e.jsx("div",{className:"text-2xl font-bold",children:A.cancelled})})]})]}),e.jsx(N,{className:"bg-card/60 border-border/80 backdrop-blur mb-6",children:e.jsx(S,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ie,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search matches...",value:M,onChange:a=>ue(a.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(v,{value:b,onValueChange:xe,children:[e.jsx(g,{children:e.jsx(p,{placeholder:"All leagues"})}),e.jsxs(f,{children:[e.jsx(c,{value:"all",children:"All Leagues"}),B.data?.map(a=>e.jsx(c,{value:a.id,children:a.name},a.id))]})]})}),e.jsx("div",{className:"w-full md:w-48",children:e.jsxs(v,{value:I,onValueChange:je,children:[e.jsx(g,{children:e.jsx(p,{placeholder:"All statuses"})}),e.jsxs(f,{children:[e.jsx(c,{value:"all",children:"All Statuses"}),e.jsx(c,{value:"scheduled",children:"Scheduled"}),e.jsx(c,{value:"live",children:"Live"}),e.jsx(c,{value:"completed",children:"Completed"}),e.jsx(c,{value:"cancelled",children:"Cancelled"})]})]})})]})})}),e.jsxs(N,{className:"bg-card/60 border-border/80 backdrop-blur",children:[e.jsx(D,{children:e.jsxs(V,{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5"}),"Matches",e.jsx(de,{variant:"secondary",children:R.length})]})}),e.jsx(S,{children:e.jsxs(ke,{children:[e.jsx(De,{children:e.jsxs(oe,{children:[e.jsx(F,{children:"Date"}),e.jsx(F,{children:"League"}),e.jsx(F,{children:"Match"}),e.jsx(F,{children:"Venue"}),e.jsx(F,{children:"Status"}),e.jsx(F,{children:"Score"}),e.jsx(F,{children:"Actions"})]})}),e.jsx(Ve,{children:R.map(a=>e.jsxs(oe,{children:[e.jsxs(T,{className:"font-mono text-sm",children:[new Date(a.match_date).toLocaleDateString()," ",new Date(a.match_date).toLocaleTimeString()]}),e.jsx(T,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-4 h-4 text-muted-foreground"}),a.league?.name]})}),e.jsx(T,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:a.home_team?.name}),e.jsx("span",{className:"text-muted-foreground",children:"vs"}),e.jsx("span",{children:a.away_team?.name})]})}),e.jsx(T,{className:"text-sm text-muted-foreground",children:a.venue||"-"}),e.jsx(T,{children:ye(a.status)}),e.jsx(T,{className:"font-mono text-sm",children:a.home_score!==null&&a.away_score!==null?`${a.home_score} - ${a.away_score}`:"-"}),e.jsx(T,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>ve(a),children:e.jsx(Oe,{className:"w-4 h-4"})}),e.jsx(j,{variant:"ghost",size:"sm",onClick:()=>ge(a.id),className:"text-destructive hover:text-destructive",children:e.jsx(Ue,{className:"w-4 h-4"})})]})})]},a.id))})]})})]}),e.jsx(G,{open:C,onOpenChange:H,children:e.jsxs(W,{children:[e.jsx(X,{children:e.jsx(Y,{children:"Edit Match"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-league",children:"League"}),e.jsxs(v,{value:t.league_id,onValueChange:a=>r(s=>({...s,league_id:a})),children:[e.jsx(g,{children:e.jsx(p,{placeholder:"Select league"})}),e.jsx(f,{children:B.data?.map(a=>e.jsxs(c,{value:a.id,children:[a.name," (",a.country,")"]},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-home-team",children:"Home Team"}),e.jsxs(v,{value:t.home_team_id,onValueChange:a=>r(s=>({...s,home_team_id:a})),children:[e.jsx(g,{children:e.jsx(p,{placeholder:"Select home team"})}),e.jsx(f,{children:U.data?.filter(a=>a.id!==t.away_team_id).map(a=>e.jsx(c,{value:a.id,children:a.name},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-away-team",children:"Away Team"}),e.jsxs(v,{value:t.away_team_id,onValueChange:a=>r(s=>({...s,away_team_id:a})),children:[e.jsx(g,{children:e.jsx(p,{placeholder:"Select away team"})}),e.jsx(f,{children:U.data?.filter(a=>a.id!==t.home_team_id).map(a=>e.jsx(c,{value:a.id,children:a.name},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-match-date",children:"Match Date"}),e.jsx(u,{id:"edit-match-date",type:"datetime-local",value:t.match_date,onChange:a=>r(s=>({...s,match_date:a.target.value}))})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-venue",children:"Venue"}),e.jsx(u,{id:"edit-venue",value:t.venue,onChange:a=>r(s=>({...s,venue:a.target.value})),placeholder:"Stadium name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-status",children:"Status"}),e.jsxs(v,{value:t.status,onValueChange:a=>r(s=>({...s,status:a})),children:[e.jsx(g,{children:e.jsx(p,{})}),e.jsxs(f,{children:[e.jsx(c,{value:"scheduled",children:"Scheduled"}),e.jsx(c,{value:"live",children:"Live"}),e.jsx(c,{value:"completed",children:"Completed"}),e.jsx(c,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-home-score",children:"Home Score"}),e.jsx(u,{id:"edit-home-score",type:"number",min:0,value:t.home_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,home_score:s===""?null:Number.parseInt(s,10)}))}})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-away-score",children:"Away Score"}),e.jsx(u,{id:"edit-away-score",type:"number",min:0,value:t.away_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,away_score:s===""?null:Number.parseInt(s,10)}))}})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-ht-home-score",children:"HT Home Score"}),e.jsx(u,{id:"edit-ht-home-score",type:"number",min:0,value:t.halftime_home_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,halftime_home_score:s===""?null:Number.parseInt(s,10)}))}})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-ht-away-score",children:"HT Away Score"}),e.jsx(u,{id:"edit-ht-away-score",type:"number",min:0,value:t.halftime_away_score??"",onChange:a=>{const s=a.target.value;r(l=>({...l,halftime_away_score:s===""?null:Number.parseInt(s,10)}))}})]})]}),k.length>0&&e.jsx(ce,{variant:"destructive",children:e.jsx(ie,{children:k.map((a,s)=>e.jsx("div",{children:a},s))})})]}),e.jsxs(Z,{children:[e.jsx(j,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),e.jsx(j,{onClick:()=>ee&&te.mutate({id:ee.id,data:ne()}),disabled:te.isPending||!t.league_id||!t.home_team_id||!t.away_team_id||!t.match_date||k.length>0,children:"Update"})]})]})})]})})}export{ra as default};
