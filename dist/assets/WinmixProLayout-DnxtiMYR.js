import{r as n,c1 as P,j as r,x as z,c2 as O,bp as A,c3 as _,c4 as I}from"./index-GAVc2OtO.js";import{S as L,b as M,a as V,c as D,d as $}from"./sheet-DgW-QWTQ.js";import{W as N}from"./constants-CgcYdoGQ.js";import"./index-DD5cTla9.js";import"./workflow-PVWcfWK5.js";import"./cpu-C0sgczmA.js";import"./plug-zap-rCXjxPXV.js";import"./message-square-Cif2A0zC.js";import"./shapes-ypFMVlMV.js";const R=()=>{const[e,t]=n.useState(!1),a=P();return n.useEffect(()=>{t(!1)},[a.pathname]),r.jsx("div",{className:"sticky top-0 z-30 border-b border-white/10 bg-black/50 px-4 py-4 backdrop-blur lg:hidden",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-white/50",children:"WinmixPro"}),r.jsx("p",{className:"text-lg font-semibold text-white",children:"Admin Studio"})]}),r.jsxs(L,{open:e,onOpenChange:t,children:[r.jsx(M,{asChild:!0,children:r.jsx(z,{variant:"outline",size:"icon",className:"h-11 w-11 rounded-2xl border-white/30",children:r.jsx(O,{className:"h-5 w-5"})})}),r.jsxs(V,{side:"left",className:"w-[320px] border-white/10 bg-slate-950/95 text-white",children:[r.jsx(D,{children:r.jsx($,{className:"text-left text-white",children:"WinmixPro navigáció"})}),r.jsx("div",{className:"mt-6 flex flex-col gap-6 overflow-y-auto pr-3",children:N.map(s=>r.jsxs("div",{children:[r.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:s.title}),r.jsx("div",{className:"mt-3 space-y-2",children:s.items.map(o=>r.jsxs(A,{to:o.href,className:"flex items-center gap-3 rounded-2xl border border-white/10 px-3 py-3 text-left text-white/70 transition hover:border-white/40 hover:bg-white/5",children:[r.jsx("span",{className:"rounded-2xl border border-white/20 p-2",children:r.jsx(o.icon,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-white",children:o.label}),r.jsx("p",{className:"text-xs text-white/60",children:o.description})]})]},o.href))})]},s.title))})]})]})]})})},J="flex items-center gap-3 rounded-2xl border border-transparent px-4 py-3 text-left transition focus-visible:outline-none",W=()=>r.jsxs("aside",{className:"hidden w-72 flex-shrink-0 flex-col border-r border-white/10 bg-black/40 px-4 py-8 backdrop-blur-2xl lg:flex",children:[r.jsxs("div",{className:"space-y-1 px-2",children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.5em] text-white/50",children:"WinmixPro"}),r.jsx("p",{className:"text-lg font-semibold text-white",children:"Admin Studio"}),r.jsx("p",{className:"text-sm text-white/60",children:"Üzleti prototípus 5-15. oldal"})]}),r.jsx("nav",{className:"mt-8 space-y-6 overflow-y-auto pr-2",children:N.map(e=>r.jsxs("div",{children:[r.jsx("p",{className:"px-2 text-xs font-semibold uppercase tracking-[0.3em] text-white/40",children:e.title}),r.jsx("div",{className:"mt-3 space-y-2",children:e.items.map(t=>r.jsx(_,{to:t.href,className:({isActive:a})=>`${J} ${a?"border-white/40 bg-white/10 text-white shadow-[0_10px_40px_rgba(0,0,0,0.35)]":"text-white/70 hover:border-white/20 hover:bg-white/5"}`,children:({isActive:a})=>r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`rounded-2xl border px-2 py-2 ${a?"border-emerald-300/70 bg-emerald-400/10":"border-white/10"}`,children:r.jsx(t.icon,{className:"h-4 w-4"})}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-semibold text-white",children:[t.label,t.badge?r.jsx("span",{className:"ml-2 rounded-full bg-white/10 px-2 py-0.5 text-[10px] uppercase tracking-wide",children:t.badge}):null]}),r.jsx("p",{className:"text-xs text-white/60",children:t.description})]})]})},t.href))})]},e.title))})]}),u=typeof window<"u",H=(e,t)=>{if(!u)return t;try{const a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(a){return console.warn(`[useLocalStorage] Error reading key "${e}":`,a),t}},y=(e,t)=>{const[a,s]=n.useState(()=>H(e,t)),o=n.useCallback(d=>{try{const m=d instanceof Function?d(a):d;s(m),u&&(window.localStorage.setItem(e,JSON.stringify(m)),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:JSON.stringify(m),storageArea:window.localStorage})))}catch(m){console.warn(`[useLocalStorage] Error setting key "${e}":`,m)}},[e,a]),i=n.useCallback(()=>{try{s(t),u&&(window.localStorage.removeItem(e),window.dispatchEvent(new StorageEvent("storage",{key:e,newValue:null,storageArea:window.localStorage})))}catch(d){console.warn(`[useLocalStorage] Error removing key "${e}":`,d)}},[e,t]);return n.useEffect(()=>{const d=m=>{if(m.key===e&&m.newValue!==null)try{s(JSON.parse(m.newValue))}catch(p){console.warn(`[useLocalStorage] Error parsing storage event for key "${e}":`,p)}};if(u)return window.addEventListener("storage",d),()=>window.removeEventListener("storage",d)},[e]),[a,o,i]},v={THEME:"winmixpro-theme",THEME_FAVORITES:"winmixpro-theme-favorites",FEATURE_FLAGS:"winmixpro-feature-flags"},U=[{id:"enable-phase9-collaborative",name:"Phase 9 Collaborative Weights",description:"Engedélyezi a kollaboratív súlyozást Phase 9 blending-ben",enabled:!0,rolloutPercentage:100,category:"feature",metadata:{owner:"Phase9Team",version:"3.1"}},{id:"enable-market-overlay",name:"Market Overlay",description:"Piaci odds összevetés valós időben",enabled:!0,rolloutPercentage:80,category:"feature",dependencies:["enable-phase9-collaborative"],metadata:{owner:"MarketIntelligence"}},{id:"enable-temporal-decay",name:"Temporal Decay",description:"Időbeli leértékelés régebbi adatokra",enabled:!0,rolloutPercentage:100,category:"feature",metadata:{owner:"MLOps",decayRate:.32}},{id:"enable-advanced-heatmap",name:"Advanced Health Heatmap",description:"Bővített szolgáltatás heatmap megjelenítés",enabled:!1,rolloutPercentage:25,category:"experiment",metadata:{experimentId:"heatmap-v2"}},{id:"enable-real-time-alerts",name:"Real-time Alerts",description:"Valós idejű értesítések kritikus eseményekhez",enabled:!0,rolloutPercentage:100,category:"operational",metadata:{channels:["slack","email"]}},{id:"enable-dark-mode-only",name:"Dark Mode Only",description:"Kényszerített sötét mód (világos mód letiltása)",enabled:!0,rolloutPercentage:100,category:"feature",metadata:{reason:"Design consistency"}},{id:"enable-model-comparison",name:"Champion vs Challenger Comparison",description:"Model összehasonlító nézet champion/challenger elemzéshez",enabled:!0,rolloutPercentage:100,category:"feature",metadata:{owner:"MLOps"}},{id:"enable-feedback-inbox",name:"Feedback Inbox",description:"Központosított visszajelzés kezelő inbox",enabled:!0,rolloutPercentage:90,category:"feature",metadata:{owner:"ProductTeam"}},{id:"enable-auto-refresh",name:"Auto Refresh Data",description:"Automatikus adatfrissítés a dashboardokon",enabled:!1,rolloutPercentage:0,category:"experiment",metadata:{intervalSeconds:30}},{id:"enable-theme-customization",name:"Theme Customization",description:"Felhasználói téma testreszabás és mentés",enabled:!0,rolloutPercentage:100,category:"feature",metadata:{owner:"DesignOps"}},{id:"enable-integration-sentry",name:"Sentry Integration",description:"UI hibák automatikus küldése Sentry-be",enabled:!0,rolloutPercentage:100,category:"operational",metadata:{environment:"production"}},{id:"enable-prediction-confidence",name:"Prediction Confidence Scores",description:"Predikció részletesség bizalmi score-okkal",enabled:!0,rolloutPercentage:100,category:"feature",metadata:{owner:"MLOps",minConfidence:.6}},{id:"killswitch-market-api",name:"Market API Killswitch",description:"Vészhelyzeti piaci API leállítás",enabled:!1,rolloutPercentage:0,category:"killswitch",metadata:{reason:"Emergency only"}}],k=()=>({flags:U,version:"1.0.0",lastUpdated:new Date().toISOString()}),B=e=>{const t=[];return(!e.id||e.id.trim().length===0)&&t.push("Flag ID is required"),(!e.name||e.name.trim().length===0)&&t.push("Flag name is required"),e.rolloutPercentage!==void 0&&(e.rolloutPercentage<0||e.rolloutPercentage>100)&&t.push("Rollout percentage must be between 0 and 100"),(!e.category||!["feature","experiment","killswitch","operational"].includes(e.category))&&t.push("Invalid category"),{valid:t.length===0,errors:t}},E=e=>{const t=[];if(!e.flags||!Array.isArray(e.flags))return t.push("Flags array is required"),{valid:!1,errors:t};e.flags.forEach((o,i)=>{const d=B(o);d.valid||t.push(`Flag at index ${i}: ${d.errors.join(", ")}`)});const a=e.flags.map(o=>o.id),s=a.filter((o,i)=>a.indexOf(o)!==i);return s.length>0&&t.push(`Duplicate flag IDs found: ${s.join(", ")}`),{valid:t.length===0,errors:t}},G=e=>JSON.stringify(e,null,2),K=e=>{try{const t=JSON.parse(e),a=E(t);return a.valid?{success:!0,config:t}:{success:!1,errors:a.errors}}catch(t){return{success:!1,errors:[`JSON parse error: ${t instanceof Error?t.message:"Unknown error"}`]}}},C=(e,t)=>{const a=e.find(s=>s.id===t);return!a||!a.enabled?!1:a.dependencies?a.dependencies.every(s=>C(e,s)):!0},q=(e,t,a)=>{const s=e.find(o=>o.id===t);if(!(!s||!s.enabled)&&a&&s.metadata)return s.metadata[a]},X=(e,t)=>e.filter(a=>a.category===t),Y=n.createContext(null),Q=({children:e})=>{const[t,a]=y(v.FEATURE_FLAGS,k()),s=n.useCallback(l=>C(t.flags,l),[t.flags]),o=n.useCallback((l,c)=>q(t.flags,l,c),[t.flags]),i=n.useCallback(l=>{a(c=>({...c,flags:c.flags.map(g=>g.id===l?{...g,enabled:!g.enabled}:g),lastUpdated:new Date().toISOString()}))},[a]),d=n.useCallback((l,c)=>{a(g=>({...g,flags:g.flags.map(h=>h.id===l?{...h,...c}:h),lastUpdated:new Date().toISOString()}))},[a]),m=n.useCallback(()=>G(t),[t]),p=n.useCallback(l=>{const c=K(l);if(c.success&&c.config){const g=E(c.config);return g.valid?(a(c.config),{success:!0}):{success:!1,errors:g.errors}}return c},[a]),f=n.useCallback(()=>{a(k())},[a]),b=n.useCallback(l=>X(t.flags,l),[t.flags]),x={flags:t.flags,config:t,isEnabled:s,getValue:o,toggleFlag:i,updateFlag:d,exportFlags:m,importFlags:p,resetFlags:f,getByCategory:b};return r.jsx(Y.Provider,{value:x,children:e})},S=[{id:"aurora",name:"Aurora",description:"Emerald + indigó átmenet, admin fő téma",status:"stable",palette:{primary:"#10b981",secondary:"#3b82f6",accent:"#06b6d4",background:"#020617",foreground:"#ffffff",muted:"#64748b",border:"rgba(255, 255, 255, 0.15)",gradientFrom:"#10b981",gradientTo:"#06b6d4"},glass:{blur:"12px",opacity:.1,border:"1px solid rgba(255, 255, 255, 0.15)",shadow:"0 8px 32px rgba(0, 0, 0, 0.37)"}},{id:"neon-ember",name:"Neon Ember",description:"Narancs árnyalat, piaci fókuszú lapokhoz",status:"experimental",palette:{primary:"#f97316",secondary:"#ec4899",accent:"#fb923c",background:"#020617",foreground:"#ffffff",muted:"#64748b",border:"rgba(255, 255, 255, 0.15)",gradientFrom:"#f97316",gradientTo:"#ec4899"},glass:{blur:"10px",opacity:.08,border:"1px solid rgba(255, 255, 255, 0.12)",shadow:"0 8px 32px rgba(249, 115, 22, 0.2)"}},{id:"fjord",name:"Fjord",description:"Kék-lila gradient, monitoring nézet",status:"stable",palette:{primary:"#0ea5e9",secondary:"#6366f1",accent:"#8b5cf6",background:"#020617",foreground:"#ffffff",muted:"#64748b",border:"rgba(255, 255, 255, 0.15)",gradientFrom:"#0ea5e9",gradientTo:"#6366f1"},glass:{blur:"14px",opacity:.12,border:"1px solid rgba(255, 255, 255, 0.18)",shadow:"0 8px 32px rgba(99, 102, 241, 0.25)"}},{id:"slate-glow",name:"Slate Glow",description:"Semleges, audit és riport lapok",status:"experimental",palette:{primary:"#e2e8f0",secondary:"#cbd5e1",accent:"#94a3b8",background:"#020617",foreground:"#ffffff",muted:"#64748b",border:"rgba(255, 255, 255, 0.15)",gradientFrom:"#e2e8f0",gradientTo:"#f8fafc"},glass:{blur:"8px",opacity:.06,border:"1px solid rgba(255, 255, 255, 0.1)",shadow:"0 8px 32px rgba(0, 0, 0, 0.3)"}},{id:"midnight-purple",name:"Midnight Purple",description:"Mély lila, AI modellezési felületekhez",status:"stable",palette:{primary:"#a855f7",secondary:"#c026d3",accent:"#d946ef",background:"#020617",foreground:"#ffffff",muted:"#64748b",border:"rgba(255, 255, 255, 0.15)",gradientFrom:"#a855f7",gradientTo:"#d946ef"},glass:{blur:"12px",opacity:.1,border:"1px solid rgba(168, 85, 247, 0.2)",shadow:"0 8px 32px rgba(168, 85, 247, 0.3)"}},{id:"forest-mint",name:"Forest Mint",description:"Természetes zöld, adatminőség lapokhoz",status:"experimental",palette:{primary:"#22c55e",secondary:"#84cc16",accent:"#4ade80",background:"#020617",foreground:"#ffffff",muted:"#64748b",border:"rgba(255, 255, 255, 0.15)",gradientFrom:"#22c55e",gradientTo:"#84cc16"},glass:{blur:"12px",opacity:.1,border:"1px solid rgba(34, 197, 94, 0.2)",shadow:"0 8px 32px rgba(34, 197, 94, 0.25)"}}],T=e=>({"--color-primary":e.primary,"--color-secondary":e.secondary,"--color-accent":e.accent,"--color-background":e.background,"--color-foreground":e.foreground,"--color-muted":e.muted,"--color-border":e.border,"--gradient-from":e.gradientFrom,"--gradient-to":e.gradientTo}),F=e=>({"--glass-blur":e.blur,"--glass-opacity":e.opacity.toString(),"--glass-border":e.border,"--glass-shadow":e.shadow}),Z=e=>{if(typeof window>"u")return;const t=document.documentElement,a=T(e.palette),s=F(e.glass);Object.entries({...a,...s}).forEach(([o,i])=>{t.style.setProperty(o,i)})},ee=e=>{const t=T(e.palette),a=F(e.glass);return`:root {
${Object.entries({...t,...a}).map(([o,i])=>`  ${o}: ${i};`).join(`
`)}
}`},te=e=>JSON.stringify(e,null,2),j=e=>S.find(t=>t.id===e),w=()=>S[0],re=n.createContext(null),ae=({children:e})=>{const[t,a]=y(v.THEME,w().id),[s,o]=y(v.THEME_FAVORITES,[]),i=j(t)||w();n.useEffect(()=>{Z(i)},[i]);const d=n.useCallback(l=>{j(l)&&a(l)},[a]),m=n.useCallback(l=>{o(c=>c.includes(l)?c.filter(g=>g!==l):[...c,l])},[o]),p=n.useCallback(()=>ee(i),[i]),f=n.useCallback(()=>te(i),[i]),b=n.useCallback(()=>{a(w().id),o([])},[a,o]),x={currentTheme:i,setTheme:d,presets:S,favorites:s,toggleFavorite:m,exportCSS:p,exportJSON:f,resetTheme:b};return r.jsx(re.Provider,{value:x,children:e})},se=({children:e})=>r.jsx(ae,{children:r.jsx(Q,{children:e})}),ue=()=>r.jsx(se,{children:r.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_top,_rgba(16,185,129,0.25),_transparent_45%),_radial-gradient(circle_at_bottom,_rgba(59,130,246,0.15),_transparent_35%),_#020617] text-white",children:r.jsxs("div",{className:"flex min-h-screen",children:[r.jsx(W,{}),r.jsxs("div",{className:"flex min-h-screen flex-1 flex-col",children:[r.jsx(R,{}),r.jsx("main",{className:"winmixpro-scroll flex-1 overflow-y-auto px-4 py-6 md:px-8",children:r.jsx("div",{className:"mx-auto w-full max-w-6xl space-y-8 pb-10",children:r.jsx(I,{})})})]})]})})});export{ue as default};
