import{r as e}from"./index-B-k02BhT.js";const s=r=>typeof r=="function"?r():r,p=(r,t)=>{const a=e.useMemo(()=>{if(typeof window>"u")return s(t);try{const o=window.localStorage.getItem(r);if(o)return JSON.parse(o)}catch(o){console.warn(`[winmixpro] localStorage parse error for ${r}`,o)}return s(t)},[t,r]),[c,i]=e.useState(a),f=e.useCallback(o=>{i(u=>{const n=typeof o=="function"?o(u):o;if(typeof window<"u")try{window.localStorage.setItem(r,JSON.stringify(n))}catch(l){console.warn(`[winmixpro] localStorage write error for ${r}`,l)}return n})},[r]);return[c,f]};export{p as u};
