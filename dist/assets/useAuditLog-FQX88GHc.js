import{u as s}from"./useMutation-DOyzXJwO.js";import{bq as e,w as a}from"./index-oF1ARjuv.js";const u=async t=>{const{error:r}=await a.from("admin_audit_log").insert({user_id:t.userId,action:t.action,details:t.details});if(r)throw r},m=()=>{const{user:t}=e(),r=s({mutationFn:o=>{if(!t?.id)throw new Error("User not authenticated");return u({...o,userId:t.id})}});return{log:async(o,i)=>{if(t?.id)try{await r.mutateAsync({action:o,details:i})}catch(n){console.error("Failed to log admin action",n)}},isLogging:r.isPending}};export{m as u};
