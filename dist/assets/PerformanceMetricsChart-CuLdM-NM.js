import{j as e,C as x,a as h,b as u,B as f,f as g,c as j,aJ as c,a7 as y,ae as N,af as b,ag as v,a8 as C,a9 as k}from"./index-B-k02BhT.js";import{L as w,a as n}from"./LineChart-nj2nzcDi.js";const L=s=>s==="healthy"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":s==="degraded"?"bg-yellow-500/20 text-yellow-300 border-yellow-500/30":s==="down"?"bg-red-500/20 text-red-300 border-red-500/30":"bg-muted text-muted-foreground";function T({health:s}){const{component_name:d,component_type:a,status:o,response_time_ms:p,error_rate:l,cpu_usage:m,memory_usage:i}=s,r=typeof m=="number"?Math.round(m):null,t=typeof i=="number"?Math.round(i):null;return e.jsxs(x,{className:"border-border/60 bg-muted/20",children:[e.jsxs(h,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(u,{className:"text-lg font-semibold",children:d}),e.jsx(f,{className:g("border",L(o)),children:o.toUpperCase()})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"Type"}),e.jsx("div",{className:"font-medium",children:a})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"Response time"}),e.jsxs("div",{className:"font-medium",children:[p??"-"," ms"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"Error rate"}),e.jsx("div",{className:"font-medium",children:typeof l=="number"?(l*100).toFixed(1)+"%":"-"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"Checked at"}),e.jsx("div",{className:"font-medium",children:new Date(s.checked_at).toLocaleTimeString()})]})]}),(r!==null||t!==null)&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[r!==null&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"CPU"}),e.jsxs("span",{className:"font-medium",children:[r,"%"]})]}),e.jsx(c,{value:r,className:"h-2"})]}),t!==null&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-1 flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Memory"}),e.jsxs("span",{className:"font-medium",children:[t,"%"]})]}),e.jsx(c,{value:t,className:"h-2"})]})]})]})]})}function D({title:s="Latency over time",data:d}){return e.jsxs(x,{className:"border-border/60 bg-muted/20",children:[e.jsx(h,{children:e.jsx(u,{className:"text-lg font-semibold",children:s})}),e.jsx(j,{className:"h-72",children:e.jsx(y,{width:"100%",height:"100%",children:e.jsxs(w,{data:d,margin:{top:8,right:16,left:0,bottom:8},children:[e.jsx(N,{strokeDasharray:"3 3",stroke:"hsl(var(--muted-foreground) / 0.2)"}),e.jsx(b,{dataKey:"time",tickFormatter:a=>new Date(a).toLocaleTimeString(),stroke:"hsl(var(--muted-foreground))"}),e.jsx(v,{stroke:"hsl(var(--muted-foreground))"}),e.jsx(C,{labelFormatter:a=>new Date(a).toLocaleString()}),e.jsx(k,{}),e.jsx(n,{type:"monotone",dataKey:"p50",name:"p50",stroke:"#22c55e",dot:!1,strokeWidth:2}),e.jsx(n,{type:"monotone",dataKey:"p95",name:"p95",stroke:"#eab308",dot:!1,strokeWidth:2}),e.jsx(n,{type:"monotone",dataKey:"p99",name:"p99",stroke:"#ef4444",dot:!1,strokeWidth:2})]})})})]})}export{D as P,T as S};
